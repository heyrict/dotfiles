ROOT := "/home/heyrict/.wine"
HOME := ROOT + "/drive_c/users/heyrict"
#PROTON := "/home/heyrict/.local/share/Steam/steamapps/common/Proton 5.13"
#PROTON_WINE64 := PROTON + "/dist/bin/wine64"
PROTON := "/home/heyrict/.local/share/Steam/compatibilitytools.d/Proton-7.0rc3-GE-1"
PROTON_WINE64 := PROTON + "/files/bin/wine64"

run FILE:
	LC_ALL=ja_JP.UTF-8 LANG=ja_JP.UTF-8 wine64 "{{FILE}}"

_run_in FOLDER PROGRAM:
	cd "{{FOLDER}}" && LC_ALL=ja_JP.UTF-8 LANG=ja_JP.UTF-8 wine64 "{{PROGRAM}}"

proton_run FILE:
	WINE_FULLSCREEN_FSR=1 LC_ALL=ja_JP.UTF-8 LANG=ja_JP.UTF-8 "{{PROTON_WINE64}}" "{{FILE}}"

_proton_run_in FOLDER FILE:
	cd "{{FOLDER}}" && WINE_FULLSCREEN_FSR=1 LC_ALL=ja_JP.UTF-8 LANG=ja_JP.UTF-8 "{{PROTON_WINE64}}" "{{FILE}}"

ciel_nosurge:
	just _proton_run_in "{{HOME}}/Games/Ciel Nosurge DX" "CielnosurgeDX.exe"

death_end_request:
	just _proton_run_in "/mnt/windows/Users/heyrict/Games/Death end reQuest/resource/bin" "Application.exe"

angel_beats:
	cd "{{ROOT}}/drive_c/Program Files (x86)/Key/AngelBeats!" && LC_ALL=ja_JP.UTF-8 LANG=ja_JP.UTF-8 "{{PROTON_WINE64}}" "{{HOME}}/Tools/AlphaROMdiE/AlphaROMdiE.exe" "SiglusEngine.exe"

amayui:
	just _proton_run_in /mnt/windows/Users/heyrict/Games/Eushully/AMAYUI AGE.exe

gumao:
	just _proton_run_in "{{HOME}}/Games/Gumao7_12" "Game.exe" 2>/dev/null

th10:
	just _proton_run_in "{{HOME}}/Games/th10" th10.exe >/dev/null 2>&1

mekuiro:
	WINEDLLOVERRIDES="d3d11,dxgi,d3d9=b" just _proton_run_in "{{HOME}}/Games/CRYSTALiA/絆きらめく恋いろは/" mekuiro.exe
