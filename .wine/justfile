ROOT := "/home/heyrict/.wine"
HOME := ROOT + "/drive_c/users/heyrict"
#PROTON := "/home/heyrict/.local/share/Steam/steamapps/common/Proton 5.13"
#PROTON_WINE64 := PROTON + "/dist/bin/wine64"
PROTON := "/home/heyrict/.local/share/Steam/compatibilitytools.d/GE-Proton7-24"
PROTON_WINE64 := PROTON + "/files/bin/wine64"
DEFAULT_ENV := 'LC_ALL=ja_JP.UTF-8 LANG=ja_JP.UTF-8 WINEPREFIX="' + ROOT + '"'
PROTON_ENV := "DXVK_ASYNC=1 WINE_FULLSCREEN_FSR=1 WINE_FULLSCREEN_FSR_MODE=performance"
EXTRA_ENV := ""
ALPHAROMDIE := HOME + "/Tools/AlphaROMdiE/AlphaROMdiE.exe"

run FILE:
	cd "$(dirname '{{FILE}}')" && env {{DEFAULT_ENV}} {{PROTON_ENV}} {{EXTRA_ENV}} wine64 "$(basename '{{FILE}}')"

proton_run FILE:
	cd "$(dirname '{{FILE}}')" && env {{DEFAULT_ENV}} {{PROTON_ENV}} {{EXTRA_ENV}} "{{PROTON_WINE64}}" "$(basename '{{FILE}}')"

_siglus_run FILE:
	cd "$(dirname '{{FILE}}')" && env {{DEFAULT_ENV}} {{PROTON_ENV}} {{EXTRA_ENV}} "{{PROTON_WINE64}}" "{{ALPHAROMDIE}}" "$(basename '{{FILE}}')"

ciel_nosurge:
	just proton_run "{{HOME}}/Games/Ciel Nosurge DX/CielnosurgeDX.exe"

angel_beats:
	just _siglus_run "{{ROOT}}/drive_c/Program Files (x86)/Key/AngelBeats!/SiglusEngine.exe"

amayui:
	just proton_run "/mnt/windows/Users/heyrict/Games/Eushully/AMAYUI/AGE.exe"

th10:
	just proton_run "{{HOME}}/Games/th10/th10.exe" >/dev/null 2>&1

boushi:
	just proton_run "{{HOME}}/Games/Boushi/Game.exe"

ninth_existence:
	just proton_run "{{HOME}}/Games/9th_Existence_ver.3.01/Game.exe"

imo2:
	just proton_run "{{HOME}}/Games/122216/Game.exe"

kinkoi:
	just _siglus_run "{{ROOT}}/drive_c/Program Files (x86)/SAGAPLANETS/金色ラブリッチェ/SiglusEngine.exe"

kanon:
	rlvm "{{HOME}}/Games/KEY/KANON_SE"

dohna:
	just proton_run "{{ROOT}}/drive_c/Program Files (x86)/DohnaDohna/dohnadohna.exe"

unless_terminalia:
	just proton_run "{{HOME}}/Games/Whirlpool/unless_luminalia/unless_terminalia.exe"

vbb:
	just proton_run "{{HOME}}/Games/VenusBlood-BRAVE-/VBB.exe"

evenicle:
	just proton_run "{{HOME}}/Games/イブニクル/Evenicle.exe"

pmpk:
	miniserve "{{HOME}}/Games/pmpk055/www"

kirasarafe:
	just proton_run "{{HOME}}/Games/pandadanpa/魔法少女きららとさららFE/kirasarafe.exe"

bullet_girls:
	just proton_run "{{HOME}}/Games/Bullet Girls Phantasia/game.exe"

nier_replicant:
	just proton_run "/run/media/heyrict/SG20E/pc/NieR Replicant ver.1.22474487139/NieR Replicant ver.1.22474487139.exe"
